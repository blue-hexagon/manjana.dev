"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[23],{4336:function(e,a,n){n.r(a),n.d(a,{Head:function(){return u},default:function(){return g}});var t=n(8453),l=n(6540),r=n(1545),s=n(3551),i=n(356);function c(e){const a=Object.assign({h1:"h1",p:"p",h2:"h2",ul:"ul",li:"li",span:"span",hr:"hr"},(0,t.RP)(),e.components),{Term:n,PageGlossary:c}=a;return c||p("PageGlossary",!0),n||p("Term",!0),l.createElement(l.Fragment,null,l.createElement(r.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"end",mb:0}},l.createElement(s.A,{variant:"h1",sx:{pt:5},gutterBottom:!0},l.createElement(a.h1,null,e.pageContext.frontmatter.title)),l.createElement(s.A,{variant:"h5",color:"textSecondary",gutterBottom:!0},e.pageContext.frontmatter.date)),"\n",l.createElement(i.A,{sx:{background:"linear-gradient(to right, #ff4081, #1b1b1b)",height:"2px",width:"100%",borderRadius:"4px",margin:"2px 0",boxShadow:"0 0 10px rgba(255, 64, 129, 0.1)"}}),"\n",l.createElement(r.A),"\n",l.createElement(a.p,null," "),"\n",l.createElement(a.h2,null,"Ten Minutes of OpenSSL"),"\n",l.createElement(a.p,null,"OpenSSL is a widely used open-source cryptographic toolkit and SSL/TLS implementation."),"\n",l.createElement(a.p,null,"It provides:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"A cryptographic library used by applications"),"\n",l.createElement(a.li,null,"A CLI tool called ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">openssl</code>'}})," for working with:","\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"Certificates"),"\n",l.createElement(a.li,null,"Keys"),"\n",l.createElement(a.li,null,"TLS connections"),"\n",l.createElement(a.li,null,"Hashes"),"\n",l.createElement(a.li,null,"\n",l.createElement(n,{name:"DNS",context:"SAN"}),"\n"),"\n",l.createElement(a.li,null,"Encryption and decryption"),"\n",l.createElement(a.li,null,"CSRs and CAs"),"\n"),"\n"),"\n"),"\n",l.createElement(a.p,null,"If you have ever generated a TLS certificate, built a private CA, debugged a TLS handshake, created a CSR, or inspected an X.509 certificate — you were using OpenSSL directly or indirectly."),"\n",l.createElement(a.p,null,"This article builds a layered mental model so you can hold the TLS and PKI stack together in memory."),"\n",l.createElement(i.A),"\n",l.createElement(a.h2,null,"Core mental model — what TLS actually does"),"\n",l.createElement(a.p,null,"TLS performs two separate cryptographic jobs:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Identity proof  = certificates and signatures\r\nTraffic secrecy = symmetric session encryption</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Certificates prove identity. Session keys encrypt traffic."),"\n",l.createElement(a.p,null,"OpenSSL gives you the tools to build, inspect, verify, and debug both layers."),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 1 — Keys: root of identity"),"\n",l.createElement(a.p,null,"Everything starts with a key pair:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">private key = secret\r\npublic key  = shareable</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Generate a private key:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl genrsa <span class="token parameter variable">-out</span> server.key.pem <span class="token number">2048</span></code></pre></div>'}}),"\n",l.createElement(a.p,null,"Private keys are used to:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"prove identity"),"\n",l.createElement(a.li,null,"sign handshakes"),"\n",l.createElement(a.li,null,"sign CSRs"),"\n",l.createElement(a.li,null,"sign certificates (if acting as a CA)"),"\n"),"\n",l.createElement(a.p,null,"If the private key leaks, identity is compromised."),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 2 — X.509 certificates"),"\n",l.createElement(a.p,null,"An X.509 certificate binds identity to a public key and a CA signature:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">identity + public key + CA signature = certificate</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Certificates contain:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"Subject identity fields"),"\n",l.createElement(a.li,null,"Public key"),"\n",l.createElement(a.li,null,"Validity window"),"\n",l.createElement(a.li,null,"Extensions (SAN, key usage, EKU)"),"\n",l.createElement(a.li,null,"Issuer"),"\n",l.createElement(a.li,null,"Signature"),"\n"),"\n",l.createElement(a.p,null,"Inspect a certificate:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl x509 <span class="token parameter variable">-in</span> cert.pem <span class="token parameter variable">-text</span> <span class="token parameter variable">-noout</span></code></pre></div>'}}),"\n",l.createElement(a.p,null,"X.509 defines structure, not encoding."),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 3 — DN fields vs SAN"),"\n",l.createElement(a.p,null,"Distinguished Name (DN) fields come from directory systems (X.500 / X.509 heritage):"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">CN = Common Name\r\nO  = Organization\r\nOU = Organizational Unit\r\nC  = Country\r\nST = State\r\nL  = Locality</code></pre></div>'}}),"\n",l.createElement(a.p,null,"These fields are mostly descriptive."),"\n",l.createElement(a.p,null,"Operational identity lives in SAN (Subject Alternative Name). Example SAN values:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">DNS:api.example.com\r\nIP:10.0.0.5\r\nURI:spiffe://prod/payment</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Modern TLS hostname validation checks SAN, not CN."),"\n",l.createElement(a.p,null,"Practical check:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl x509 <span class="token parameter variable">-in</span> cert.pem <span class="token parameter variable">-noout</span> <span class="token parameter variable">-ext</span> subjectAltName</code></pre></div>'}}),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 4 — CSR: certificate signing requests"),"\n",l.createElement(a.p,null,"A CSR is a certificate application form (standard: PKCS#10). It contains:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"your public key"),"\n",l.createElement(a.li,null,"requested identity fields"),"\n",l.createElement(a.li,null,"requested SAN entries"),"\n",l.createElement(a.li,null,"your signature proving key ownership"),"\n"),"\n",l.createElement(a.p,null,"Create a CSR:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> server.key.pem <span class="token parameter variable">-out</span> server.csr.pem</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Flow:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">key -> CSR -> CA signs -> certificate</code></pre></div>'}}),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 5 — Certificate Authorities (CA) and trust chains"),"\n",l.createElement(a.p,null,"A Certificate Authority is simply a key that signs certificates."),"\n",l.createElement(a.p,null,"Create a lab Root CA:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl genrsa <span class="token parameter variable">-out</span> ca.key.pem <span class="token number">4096</span>\r\n\r\nopenssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> ca.key.pem   <span class="token parameter variable">-out</span> ca.crt.pem <span class="token parameter variable">-days</span> <span class="token number">3650</span>   <span class="token parameter variable">-subj</span> <span class="token string">"/C=DK/O=Lab PKI/CN=Lab Root CA"</span></code></pre></div>'}}),"\n",l.createElement(a.p,null,"Clients trust CA certificates via a trust store. Verification builds a chain:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">leaf (server) -> intermediate(s) -> root (trusted)</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Verify a server cert against a CA file:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl verify <span class="token parameter variable">-CAfile</span> ca.crt.pem server.crt.pem</code></pre></div>'}}),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 6 — File formats and containers (PEM, DER, PFX)"),"\n",l.createElement(a.p,null,"X.509 is the data structure. PEM and DER are encodings."),"\n",l.createElement(a.p,null,"PEM is text (Base64 with headers), for example:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">-----BEGIN CERTIFICATE-----\r\n(base64)\r\n-----END CERTIFICATE-----</code></pre></div>'}}),"\n",l.createElement(a.p,null,"DER is binary ASN.1 encoding."),"\n",l.createElement(a.p,null,"PFX (PKCS#12) is an encrypted bundle containing:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"private key"),"\n",l.createElement(a.li,null,"certificate"),"\n",l.createElement(a.li,null,"chain (optional)"),"\n"),"\n",l.createElement(a.p,null,"Convert PEM to PFX:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl pkcs12 <span class="token parameter variable">-export</span>   <span class="token parameter variable">-inkey</span> server.key.pem   <span class="token parameter variable">-in</span> server.crt.pem   <span class="token parameter variable">-certfile</span> ca.crt.pem   <span class="token parameter variable">-out</span> server.pfx</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Inspect a PFX:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl pkcs12 <span class="token parameter variable">-in</span> server.pfx <span class="token parameter variable">-info</span> <span class="token parameter variable">-noout</span></code></pre></div>'}}),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 7 — TLS handshake: how encryption actually starts"),"\n",l.createElement(a.p,null,"Simplified TLS handshake:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">client hello\r\nserver sends certificate (and chain)\r\nclient verifies chain\r\nclient verifies SAN hostname match\r\nkey agreement (usually ECDHE)\r\nsession keys derived\r\nencrypted channel begins</code></pre></div>'}}),"\n",l.createElement(a.p,null,"Modern TLS typically uses:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"ECDHE for key agreement (forward secrecy)"),"\n",l.createElement(a.li,null,"AES-GCM or ChaCha20-Poly1305 for traffic encryption (symmetric)"),"\n"),"\n",l.createElement(a.p,null,"The server private key is used to sign handshake data to prove identity (possession of the private key). Traffic is not encrypted with the server private key."),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 8 — How certificates are asserted true"),"\n",l.createElement(a.p,null,"Client validation checks commonly include:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"CA signature chain validation"),"\n",l.createElement(a.li,null,"Validity window (Not Before / Not After)"),"\n",l.createElement(a.li,null,"SAN hostname match"),"\n",l.createElement(a.li,null,"Extended Key Usage (serverAuth / clientAuth)"),"\n",l.createElement(a.li,null,"Revocation status (CRL / OCSP, where used)"),"\n",l.createElement(a.li,null,"Policy constraints (in strict environments)"),"\n"),"\n",l.createElement(a.p,null,"Three proofs to remember:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">CA signature  -> issuer authenticity\r\nprivate key   -> possession proof (live handshake signing)\r\nSAN match     -> name binding to the endpoint you contacted</code></pre></div>'}}),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 9 — TLS debugging with OpenSSL"),"\n",l.createElement(a.p,null,"Most useful diagnostic command:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl s_client <span class="token parameter variable">-connect</span> host:port <span class="token parameter variable">-servername</span> <span class="token function">hostname</span></code></pre></div>'}}),"\n",l.createElement(a.p,null,"It shows:"),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"certificate chain presented by server"),"\n",l.createElement(a.li,null,"negotiated TLS version and cipher"),"\n",l.createElement(a.li,null,"verification results and errors"),"\n"),"\n",l.createElement(a.p,null,"Force hostname verification (useful for catching SAN mistakes):"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">openssl s_client <span class="token parameter variable">-connect</span> host:port <span class="token parameter variable">-servername</span> <span class="token function">hostname</span>   <span class="token parameter variable">-verify_hostname</span> <span class="token function">hostname</span> <span class="token parameter variable">-verify_return_error</span></code></pre></div>'}}),"\n",l.createElement(a.hr),"\n",l.createElement(a.h2,null,"Layer 10 — Service identity: SPIFFE and SPIRE"),"\n",l.createElement(a.p,null,"In zero-trust and service-mesh environments, identities are often expressed as URIs in SAN:"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">URI:spiffe://domain/workload</code></pre></div>'}}),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"SPIFFE defines the identity format (SPIFFE ID)."),"\n",l.createElement(a.li,null,"SPIRE automates issuance and rotation of short-lived X.509 certificates containing that URI SAN."),"\n"),"\n",l.createElement(a.p,null,"This is still X.509 and TLS; it is just modernized identity and automation on top."),"\n",l.createElement(a.hr),"\n",l.createElement(a.h1,null,"Appendix — terminology, abbreviations, and acronyms"),"\n",l.createElement(c),"\n",l.createElement(a.h1))}var o=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,t.RP)(),e.components);return a?l.createElement(a,e,l.createElement(c,e)):c(e)};function p(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const m=e=>{let{data:a,children:n}=e;return l.createElement(l.Fragment,null,n)},u=e=>{let{data:a}=e;const{frontmatter:n}=a.mdx,t=n.title+" | Manjana.dev",r=n.description,s="https://manjana.dev/blog/"+n.slug,i=n.featuredImage?"https://manjana.dev/images/"+n.featuredImage:null;return l.createElement(l.Fragment,null,l.createElement("title",null,t),l.createElement("meta",{name:"description",content:r}),l.createElement("link",{rel:"canonical",href:s}),l.createElement("meta",{property:"og:title",content:t}),l.createElement("meta",{property:"og:description",content:r}),l.createElement("meta",{property:"og:type",content:"article"}),l.createElement("meta",{property:"og:url",content:s}),l.createElement("meta",{property:"og:site_name",content:"Manjana.dev"}),i&&l.createElement("meta",{property:"og:image",content:i}),l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{name:"twitter:title",content:t}),l.createElement("meta",{name:"twitter:description",content:r}),i&&l.createElement("meta",{name:"twitter:image",content:i}))};function g(e){return l.createElement(m,e,l.createElement(o,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-src-content-blog-ten-minutes-of-openssl-mdx-1110d701af1d6ae6c0b2.js.map