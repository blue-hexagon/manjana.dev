/* =========================================
   Theme-aligned TOC (matches MUI dark theme)
   Tokens:
   - bg.default: #121212
   - bg.paper:   #1b1b1b
   - appbar:     #1a1a1a
   - text.primary:   #e0e0e0
   - text.secondary: #b3b3b3
   - primary: #00ffcc
   ========================================= */


/* ===============================
   Toggle Button (Floating Mobile)
   =============================== */

.toc-toggle {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 1200;

  width: 44px;
  height: 44px;

  display: flex;
  align-items: center;
  justify-content: center;

  border-radius: 10px; /* match your cards/buttons softness a bit */
  background: rgba(27, 27, 27, 0.92); /* theme paper */
  border: 1px solid rgba(255, 255, 255, 0.08);

  font-family: 'Fira Code', monospace;
  font-size: 1.1rem;
  color: #b3b3b3;

  cursor: pointer;

  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    color 0.2s ease,
    transform 0.15s ease;
}

.toc-toggle:hover {
  background: rgba(27, 27, 27, 1);
  border-color: rgba(0, 255, 204, 0.28);
  color: #00ffcc;
  transform: translateY(-1px);
}

.toc-toggle:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0, 255, 204, 0.22);
}


/* ===============================
   Backdrop
   =============================== */

.toc-backdrop {
  position: fixed;
  inset: 0;
  z-index: 1100;

  background: rgba(0, 0, 0, 0.55);
  animation: toc-fade-in 0.15s ease;
}

@keyframes toc-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}


/* ===============================
   Drawer
   =============================== */

.toc-drawer {
  position: fixed;
  top: 0;
  right: 0;

  height: 100dvh;
  width: min(420px, 92vw);

  z-index: 1150;

  padding: 1.5rem 1.25rem;

  font-family: 'Fira Code', monospace;

  overflow-y: auto;

  /* Match theme paper and card feel */
  background: #1b1b1b;
  color: #e0e0e0;
  border-left: 1px solid rgba(255, 255, 255, 0.08);

  /* Match your card-ish shadow weight */
  box-shadow: -8px 0 24px rgba(0, 0, 0, 0.55);

  animation: toc-slide-in 0.22s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

@keyframes toc-slide-in {
  from { transform: translateX(100%); }
  to   { transform: translateX(0); }
}


/* ===============================
   Drawer Header / Title
   =============================== */

.toc-title {
  font-size: 0.8rem;
  font-weight: 600;
  letter-spacing: 0.10em;
  text-transform: uppercase;

  color: #b3b3b3;

  margin: 0 0 1rem 0;
}


/* ===============================
   List Base
   =============================== */

.toc-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.toc-list li {
  margin: 0.15rem 0;
}


/* ===============================
   Links (Theme-aligned)
   =============================== */

.toc-list a,
.toc-label {
  display: block;

  font-size: 0.95rem;
  line-height: 1.45;

  text-decoration: none;
  font-family: 'Fira Code', monospace;

  color: #b3b3b3;

  padding: 0.25rem 0.25rem 0.25rem 0.85rem;

  border-left: 2px solid transparent;
  border-radius: 6px;

  transition:
    color 0.15s ease,
    border-color 0.15s ease,
    background 0.15s ease;
}

.toc-list a:hover {
  color: #e0e0e0;
  background: rgba(255, 255, 255, 0.04); /* matches your subtle hover language */
}

.toc-list a:focus-visible {
  outline: none;
  background: rgba(0, 255, 204, 0.10);
  color: #00ffcc;
}


/* ===============================
   Active Section
   =============================== */

.toc-list a.active {
  color: #00ffcc;
  border-left-color: #00ffcc;

  /* More “MUI-ish” than gradient neon */
  background: rgba(0, 255, 204, 0.08);
}

.toc-list li.active-parent > a {
  color: #e0e0e0;
  font-weight: 600;
}


/* ===============================
   Nesting
   =============================== */

.toc-list ul {
  margin-left: 0.9rem;
  margin-top: 0.15rem;
  padding-left: 0.25rem;

  border-left: 1px solid rgba(255, 255, 255, 0.06); /* gentle hierarchy rail */
}

.toc-list ul a {
  font-size: 0.88rem;
  opacity: 0.9;
}

.toc-list ul ul a {
  font-size: 0.82rem;
  opacity: 0.8;
}


/* ===============================
   Non-clickable labels
   =============================== */

.toc-label {
  opacity: 0.5;
  cursor: default;
}


/* ===============================
   Scrollbar (Subtle)
   =============================== */

.toc-drawer::-webkit-scrollbar {
  width: 8px;
}

.toc-drawer::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.12);
  border-radius: 8px;
}

.toc-drawer::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.18);
}


/* ===============================
   Aside (Desktop Sticky) helpers
   =============================== */

.toc-aside {
  transition: width 0.25s ease, padding 0.25s ease;
}

.toc-aside.collapsed {
  overflow: hidden;
}

.toc-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.toc-collapse-btn {
  background: none;
  border: none;
  color: #b3b3b3;
  font-size: 0.9rem;
  cursor: pointer;
  transition: color 0.15s ease, transform 0.15s ease;
}

.toc-collapse-btn:hover {
  color: #00ffcc;
  transform: translateX(1px);
}

.toc-collapse-btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0, 255, 204, 0.22);
  border-radius: 6px;
}
